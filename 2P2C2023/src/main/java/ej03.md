# Ejercicio 3 - √Årbol AVL

A continuaci√≥n se muestra **paso a paso** la secuencia completa de inserciones y re-balanceos sobre el AVL que aparece en el enunciado.

En cada punto ver√°s:
1. **√Årbol inmediatamente despu√©s de insertar** (sin re-balancear) -- el nuevo nodo est√° marcado con **[ ]**.
2. **An√°lisis de balance**, identificando el primer nodo desbalanceado.
3. Tipo de rotaci√≥n, **pivote** y **sentido** (Izq ‚áê / Der ‚áí).
4. **√Årbol definitivo** tras aplicar la(s) rotaci√≥n(es).

La convenci√≥n de factor de balance que uso es `FB = altura(izq) ‚Äì altura(der)` (v√°lido si ‚àà{-1,0,+1}).

---

## Estado inicial

```
           50
         /     \
       40       70
      /        /  \
    30        60   80
                    \
                    100
```

Todos los factores de balance est√°n entre ‚Äì1 y +1 ‚Üí AVL v√°lido.

---

## 3.1) Insertar 110

### 1. √Årbol tras la inserci√≥n

```
           50
         /     \
       40       70
      /        /  \
    30        60   80
                    \
                    100
                      \
                      [110]
```

### 2. An√°lisis

* Primer nodo con |FB| > 1: **80** (FB = ‚Äì2).

### 3. Rotaci√≥n

* Es **rotaci√≥n SIMPLE izquierda** (caso Derecha-Derecha).
* **Pivote:** 80.
* **Sentido:** Izquierda ‚áê.

### 4. √Årbol despu√©s de la rotaci√≥n

```
           50
         /     \
       40       70
      /        /   \
    30        60    100
                   /   \
                  80   110
```

AVL restaurado.

---

## 3.2) Insertar 35

### 1. √Årbol tras la inserci√≥n

```
           50
         /     \
       40       70
      /        /   \
    30        60    100
      \              /  \
      [35]          80 110
```

### 2. An√°lisis

* **40** queda con FB = +2 ‚áí desbalance.
* La inserci√≥n fue en la **sub-rama derecha** del hijo izquierdo ‚áí caso **Izquierda-Derecha (IR)**.

### 3. Rotaci√≥n doble

1. **Primera rotaci√≥n (simple izquierda) en pivote 30 ‚áê**

```
          40
         /  \
       35   ...
      /
    30
```

2. **Segunda rotaci√≥n (simple derecha) en pivote 40 ‚áí**

### 4. √Årbol tras las dos rotaciones

```
           50
         /     \
       35       70
      /  \     /  \
    30   40  60   100
                     / \
                    80 110
```

AVL restaurado.

---

## 3.3) Insertar 90

### 1. √Årbol tras la inserci√≥n

```
           50
         /     \
       35       70
      /  \     /  \
    30   40  60   100
                     / \
                   80 110
                     \
                     [90]
```

### 2. An√°lisis

* **70** termina con FB = ‚Äì2.
* La nueva clave se encuentra en la **sub-rama izquierda** del hijo derecho ‚áí caso **Derecha-Izquierda (DI)**.

### 3. Rotaci√≥n doble

1. **Primera rotaci√≥n (simple derecha) en pivote 100 ‚áí**

```
                 80
                    \
                    100
                   /  \
                 90  110
```

2. **Segunda rotaci√≥n (simple izquierda) en pivote 70 ‚áê**

### 4. √Årbol tras las dos rotaciones

```
             50
           /     \
         35       80
        /  \     /  \
      30   40  70   100
                 /    / \
               60   90 110
```

AVL restaurado.

---

## 3.4) Insertar 95

### 1. √Årbol tras la inserci√≥n

```
             50
           /     \
         35       80
        /  \     /  \
      30   40  70   100
                 /    / \
               60   90 110
                        \
                        [95]
```

### 2. An√°lisis

* **50** queda con FB = ‚Äì2.
* La nueva clave est√° en la **sub-rama derecha** del hijo derecho ‚áí caso **Derecha-Derecha (DD)**.

### 3. Rotaci√≥n

* **Rotaci√≥n SIMPLE izquierda**.
* **Pivote:** 50.
* **Sentido:** Izquierda ‚áê.

### 4. √Årbol final balanceado

```
                  80
                /     \
              50       100
             /  \      /  \
           35   70   90   110
          / \   /        \
        30 40 60         95
```

Todos los factores de balance vuelven a estar en {-1, 0, 1}.

---

## Resumen de rotaciones realizadas:

1. **3.1**: Rotaci√≥n simple izquierda (pivote 80)
2. **3.2**: Rotaci√≥n doble IR - izquierda en 30, luego derecha en 40
3. **3.3**: Rotaci√≥n doble DI - derecha en 100, luego izquierda en 70  
4. **3.4**: Rotaci√≥n simple izquierda (pivote 50)

**¬°Ejercicio completado!** üòä 